#!/usr/bin/env bash

set -e

if [ -z "$*" ]; then
  echo "You must supply a logo!"
  echo "e.g. \`kersplash logo.png\`"
  exit 1
fi
dir=`mktemp -d -t kersplash`

logo=$1

kersplash () {
  convert -size "$width"x"$height" xc:white $dir/background@"$width"x"$height".png
  convert $logo -filter Lanczos -distort Resize "$logosize" $dir/logo@"$logosize".png
  convert $dir/background@"$width"x"$height".png $dir/logo@"$logosize".png -gravity center -composite $filename
}

width=1024
height=1024
logosize="512x512"
filename="1024x1024.png"
kersplash

width=1024
height=748
logosize="320x320"
filename="Default-Landscape-748h.png"
kersplash

width=1024
height=768
logosize="320x320"
filename="Default-Landscape.png"
kersplash

width=1536
height=2008
logosize="480x480"
filename="Default-Portrait-1004h@2x.png"
kersplash

width=1536
height=2048
logosize="480x480"
filename="Default-Portrait@2x.png"
kersplash

width=2048
height=1496
logosize="640x640"
filename="Default-Landscape-748h@2x.png"
kersplash

width=2048
height=1536
logosize="640x640"
filename="Default-Landscape@2x.png"
kersplash

width=320
height=480
logosize="100x100"
filename="Default.png"
kersplash

width=640
height=1136
logosize="200x200"
filename="Default-568h@2x.png"
kersplash

width=640
height=960
logosize="200x200"
filename="Default@2x.png"
kersplash

width=768
height=1004
logosize="240x240"
filename="Default-Portrait-1004h.png"
kersplash

width=768
height=1024
logosize="240x240"
filename="Default-Portrait.png"
kersplash
